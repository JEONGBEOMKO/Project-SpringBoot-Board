<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Uno Kim">
    <title>새 게시글 등록</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <script type="text/javascript" src="/smarteditor/js/HuskyEZCreator.js" charset="utf-8"></script>
    <script src="http://code.jquery.com/jquery-3.5.1.min.js"></script>
</head>

<body>

<header id="header">
    헤더 삽입부
    <hr>
</header>

<div class="container">
    <header id="article-form-header" class="py-5 text-center">
        <h1>게시글 작성</h1>
    </header>

    <form id="article-form">
        <div class="row mb-3 justify-content-md-center">
            <label for="title" class="col-sm-2 col-lg-1 col-form-label text-sm-end">제목</label>
            <div class="col-sm-8 col-lg-9">
                <input type="text" class="form-control" id="title" name="title" required>
            </div>
        </div>
        <div class="row mb-3 justify-content-md-center">
            <label for="editorTxt" class="col-sm-2 col-lg-1 col-form-label text-sm-end">본문</label>
            <div class="col-sm-8 col-lg-9">
                <textarea class="form-control" id="editorTxt" name="content" rows="5" required></textarea>
            </div>
        </div>
        <div class="row mb-4 justify-content-md-center">
            <label for="hashtag" class="col-sm-2 col-lg-1 col-form-label text-sm-end">해시태그</label>
            <div class="col-sm-8 col-lg-9">
                <input type="text" class="form-control" id="hashtag" name="hashtag">
            </div>
        </div>
        <div class="row mb-4 justify-content-md-center">
            <label for="inputFile" class="col-sm-2 col-lg-1 col-form-label text-sm-end">첨부 파일</label>
            <div class="col-sm-8 col-lg-9">
                <div class="custom-file" id="inputFile">
                    <input name="file" type="file" class="custom-file-input" id="customFile" />
                    <label class="custom-file-label" for="customFile">파일을 선택해 주세요.</label>
                </div>
            </div>
        </div>
        <div class="row mb-5 justify-content-md-center">
            <div class="col-sm-10 d-grid gap-2 d-sm-flex justify-content-sm-end">
                <button type="submit" class="btn btn-primary" id="submit-button">저장</button>
                <button type="button" class="btn btn-secondary" id="cancel-button">취소</button>
            </div>
        </div>
    </form>
</div>

<footer id="footer">
    <hr>
    푸터 삽입부
</footer>
<script>

    </script>
<script>
      $('.custom-file-input').on('change', function () {
        var fileName = $(this).val().split('\\').pop();
        $(this).siblings('.custom-file-label').addClass('selected').html(fileName);
      });
    </script>

<script type="text/javascript">
window.onload = function() {
    let oEditors = [];

        nhn.husky.EZCreator.createInIFrame({
         oAppRef: oEditors,
         elPlaceHolder: "editorTxt",
         sSkinURI: "/smarteditor/SmartEditor2Skin.html",

         htParams : {

                bUseToolbar : true,				// 툴바 사용 여부 (true:사용/ false:사용하지 않음)
                bUseVerticalResizer : true,		// 입력창 크기 조절바 사용 여부 (true:사용/ false:사용하지 않음)
                bUseModeChanger : true,			// 모드 탭(Editor | HTML | TEXT) 사용 여부 (true:사용/ false:사용하지 않음)
                bSkipXssFilter : true,		// client-side xss filter 무시 여부 (true:사용하지 않음 / 그외:사용),
                //aAdditionalFontList : [["Malgun Gothic", "맑은 고딕"], ["Comic Sans MS", "Comic Sans MS"],

                fOnBeforeUnload : function(){
                //alert("완료!");
                }
              }, // boolean
              fOnAppLoad : function(){
              },
              fCreator: "createSEditor2"
        });

        $(".btn").on("click", function() {
           oEditors.getById["editorTxt"].exec("UPDATE_CONTENTS_FIELD", [])
           let content = document.getElementById("editorTxt").value.replace(/<\/?("[^"]*"|'[^']*'|[^>])*(>|$)/gi, "");

           //console.log(content);

           //alert(content);
        });
}

    </script>



<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
</body>
</html>